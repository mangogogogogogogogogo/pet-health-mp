<!-- è®°å½•åˆ—è¡¨é¡µé¢ -->
<view class="container">
  <!-- ç­›é€‰ -->
  <view class="filter-bar">
    <picker mode="selector" range="{{petFilterNames}}" value="{{petFilterIndex}}" bindchange="onPetFilter">
      <view class="filter-btn">{{petFilterNames[petFilterIndex]}} â–¾</view>
    </picker>
    <picker mode="selector" range="{{typeFilterNames}}" value="{{typeFilterIndex}}" bindchange="onTypeFilter">
      <view class="filter-btn">{{typeFilterNames[typeFilterIndex]}} â–¾</view>
    </picker>
  </view>

  <!-- è®°å½•æ•°é‡ -->
  <view class="record-count" wx:if="{{records.length > 0}}">
    å…± {{records.length}} æ¡è®°å½•
  </view>

  <!-- è®°å½•åˆ—è¡¨ -->
  <block wx:if="{{records.length > 0}}">
    <view class="record-item" wx:for="{{records}}" wx:key="id" bindlongpress="onRecordLongPress" data-id="{{item.id}}">
      <view class="record-icon {{item.type}}">{{item.icon}}</view>
      <view class="record-info">
        <view class="record-title">{{item.petName}} Â· {{item.typeName}}</view>
        <view class="record-detail">{{item.detail}}</view>
        <view class="record-detail" wx:if="{{item.note}}">{{item.note}}</view>
        <view class="record-detail" style="font-size:22rpx;">{{item.dateStr}}</view>
      </view>
    </view>
  </block>

  <view class="empty-state" wx:elif="{{!loading}}">
    <view class="empty-icon">ğŸ“‹</view>
    <view class="empty-text">æš‚æ— è®°å½•</view>
    <button class="btn-primary" style="margin-top:30rpx;width:300rpx;" bindtap="goAdd">å»æ·»åŠ è®°å½•</button>
  </view>

  <!-- åº•éƒ¨å®‰å…¨åŒºåŸŸ -->
  <view style="height:140rpx;"></view>
</view>
